---
title             : "childes-db: a flexible and reproducible interface to the Child Language Data Exchange System"
shorttitle        : "childes-db: an interface to CHILDES"

author: 
  - name          : "Alessandro Sanchez*"
    affiliation   : "1"
    corresponding : yes    # Define only one corresponding author
    address       : "Postal address"
    email         : "sanchez7@stanford.edu"
  - name          : "Stephan Meylan*"
    affiliation   : "2"
  - name          : "Mika Braginsky"
    affiliation   : "3"
  - name          : "Kyle E. MacDonald"
    affiliation   : "1"
  - name          : "Daniel Yurovsky"
    affiliation   : "4"
  - name          : "Michael C. Frank"
    affiliation   : "1"

affiliation:
  - id            : "1"
    institution   : "Stanford University"
  - id            : "2"
    institution   : "University of California, Berkeley"
  - id            : "3"
    institution   : "MIT"
  - id            : "4"
    institution   : "University of Chicago"

author_note: |
  Add complete departmental affiliations for each author here. Each new line herein must be indented, like this line.

  Enter author note here.

abstract: |
  The Child Language Data Exchange System (CHILDES) has played a critical role in research on child language development. However, traditional methods of inquiry into the data have often relied on a command line interface to extract developmental indices or custom parsers to extract data for computational modeling. Now, advances in open-source software allow for novel approaches in working with this dataset. We introduce childes-db, a tool that improves data accessibility and usability by offering novel interfaces to CHILDES, including browsable web applications and an R application programming interface.  Along with a versioned infrastructure that facilitates reproduction of past analyses, these interfaces lower barriers to analyzing naturalistic parent-child language, allowing for a wider range of researchers in language and cognitive development to easily leverage “data from beyond the lab” in their work. 
  
keywords          : "keywords"
wordcount         : "X"

bibliography      : ["r-references.bib"]

figsintext        : no
figurelist        : no
tablelist         : no
footnotelist      : no
lineno            : yes

lang              : "english"
class             : "man"
output            : papaja::apa6_pdf
---

```{r load_packages, include = FALSE}
library("papaja")
library(tidyverse)
library(childesr)
library(directlabels)
```

# Introduction

Established in 1984, CHILDES archives tens of thousands of transcripts of children’s speech as well as that of their caregivers, making it an invaluable resource for characterizing children’s early productive language use as well as their language environment. Researchers have used the dataset for studies including estimating children’s latent vocabulary size, characterizing their lexical diversity, evaluating the prevalence of negative examples to children, and retrieving the frequencies of various syntactic constructions, among thousands of others. As the first major effort to consolidate and share transcripts of child language, CHILDES has been a pioneer in the move to curate and disseminate large-scale behavioral datasets publicly. 

Uses
Uptake
Intake
Theory / growing interest in child language growth (roger brown etc)
Why dataset is successful in light of theoretical interests discussed
Challenges working with CHILDES
Expanding the range of use cases (beginner / expert)
Pulling out for modeling: 
People write their own parsers/pipelines
Duplicated effort
Versioning and reproducibility
Can’t easily integrate clan calls with pipeline
Solution (childes-db)


At its core is a series of linked tabular data stores, currently implemented in MySQL, which can be accessed from dozens of programming languages. The second is an R package called childesr that provides abstractions for the most common complex queries, obviating the need to write SQL. childesr exposes preprocessed, tabular data from CHILDES through its application programming interface (API), providing researchers with the opportunity to exploit conveniently formatted data in a familiar programming environment. Finally, we provide  a collection of browser-based interactive applications that enable visual exploration of CHILDES, allowing researchers to easily view and download useful information from the corpus including mean length of utterance (MLU) and word frequency counts.


# The Architecture of childes-db

High level discussion of features

## Childes-db	

Database Architecture
MySQL
Extensibility
Versioning

## Cross-linguistic organization

## Interactive Analysis Tools

#Intended use cases

## Freq App 
Go into depth on color 
MLU App
Population App

# The childesr Package

Discuss more intensive use cases for the corpora

## Package Details


## Worked Examples

### Color frequency 

```{r}
colors <- c("black", "white", "red", "green", "yellow", "blue", "brown", 
             "orange", "pink", "purple")

graph_colors <- data_frame(color = colors,
                           graph_color = if_else(color == "white", 
                                                 "light gray", color))

color_counts <- get_types(role = c("Mother", "Father"), age = c(12,60), 
                              type = colors)


count_estimates <- color_counts %>%
  mutate(age = target_child_age / 30.5,
         age_bin = as.integer(floor(age / 6) * 6),
         color = tolower(gloss)) %>%
  group_by(age_bin, color, target_child_id) %>%
  summarise(count = sum(count)) %>%
  summarise(mean = mean(count, na.rm = T),
            sem = sd(count, na.rm = T) / sqrt(sum(!is.na(count)))) %>%
  left_join(graph_colors)


ggplot(count_estimates, aes(x = age_bin, y = mean, ymin = mean - sem, 
                            ymax = mean + sem, color = color, label = color)) + 
  geom_pointrange(position = position_dodge(.5)) + 
  geom_smooth(se = F) +
  facet_wrap(~ color) + 
  theme_classic(base_size = 14) +
  scale_color_manual(values = graph_colors$graph_color) +
  scale_x_continuous(breaks = seq(12, 60, 6)) + 
  geom_dl(method = list(dl.trans(x=x +.2), "last.qp", cex=1)) + 
  theme(legend.position = "none")
```



non-stationarity

### Gender


# Teaching with childes-db

## Child-language class tutorials
## Data-science tutorials

# Conclusion

reiterate importance


\newpage

# References
```{r create_r-references}
r_refs(file = "childesd.bib")
```

\setlength{\parindent}{-0.5in}
\setlength{\leftskip}{0.5in}
